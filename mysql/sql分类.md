# **sql分类**

**![Image](typora图片/Image.png)MYSQL启动: net start mysql 80**

**MYSQL关闭: net stop mysql 80**

mysql客户端连接: mysql [-h 127.0.0.1] [-p 3306] -u root -p![Image](typora图片/Image-165919222539732.png)

## DDL



### 数据库操作

#### **1.查询所有数据库**

> **show databases;**

#### 2.**查询当前所在的数据库**

> #### **select database();**
>

#### 3.**创建**

> **create database 数据库名;**

#### 4.删除

> **drop database 数据库名**

#### 5.使用

**use 数据库**

**创建表之前要使用当前的数据库才可以创建：**![Image](typora图片/Image-165919222921434.png)

### **表操作 - 查询**

 #### **1.查询当前数据库所有表**

> **show tables;**

#### **2.查询表结构**

> **desc 表名**

#### **3.查询指定表的建表语句**

> **show create table 表名**



### 表操作 修改

#### 1.添加字段

> **alter table 表名 add 字段名 类型(长度) [comment 注释] [约束]**

#### **2.修改字段名和字段类型**

**alter table 表名 change 旧字段名 新字段名 类型(长度) [comment 注释] [约束]**

#### 3.修改数据类型

**alter table 表名 modify 字段名 新数据类型(l长度)**

#### 4.修改表名

**alter table 表名 rename to 新表名**



### 表操作删除

#### 1.删除表

**drop table [if exists] 表名**

#### 2.删除指定表，并重新创建该表

**truncate table 表名**



## DML

### 1.DML介绍

### 2.添加数据

#### 1.给指定字段添加数据

insert into 表名(字段名1，字段名2.....) values(值1，值2...)

#### 2.给全部字段添加数据

insert into values(值1，值2....)

#### 3.批量添加数据

![image-20220717212222494](typora图片/image-20220717212222494.png)

![image-20220717212241754](typora图片/image-20220717212241754.png)



### 3.修改数据

![image-20220717212326634](typora图片/image-20220717212326634.png)

### 4.删除数据

![image-20220717212415212](typora图片/image-20220717212415212.png)

 ![image-20220717212430791](typora图片/image-20220717212430791.png)

## DQL

<img src="typora图片/image-20220717212536343.png" alt="image-20220717212536343" style="zoom:50%;" />

![image-20220717212550331](typora图片/image-20220717212550331.png)

### 1.基本查询

#### 1.查询多个字段

![image-20220717212636913](typora图片/image-20220717212636913.png)

#### 2.设置别名

![image-20220717212654173](typora图片/image-20220717212654173.png)

#### 3.去除重复记录

![image-20220717212719753](typora图片/image-20220717212719753.png)

### 2.条件查询

![image-20220717212759240](typora图片/image-20220717212759240.png)

#### 1.模糊查询

![image-20220717212825464](typora图片/image-20220717212825464.png)

![image-20220717212833754](typora图片/image-20220717212833754.png)

### 3.聚合函数

![image-20220717212905701](typora图片/image-20220717212905701.png)

#### 1.分组查询

![image-20220717212934852](typora图片/image-20220717212934852.png)

![image-20220717212943640](typora图片/image-20220717212943640.png)

#### 2.排序查询

![image-20220717213042391](typora图片/image-20220717213042391.png)![image-20220717213300658](typora图片/image-20220717213300658.png)

#### 3.分页查询

![image-20220717213103325](typora图片/image-20220717213103325.png)

![image-20220717213119083](typora图片/image-20220717213119083.png)

![image-20220717213128882](typora图片/image-20220717213128882.png)

![image-20220717213312163](typora图片/image-20220717213312163.png)

#### 4.执行顺序

![image-20220717213355714](typora图片/image-20220717213355714.png)

![image-20220717213409064](typora图片/image-20220717213409064.png)





# 约束、多表查询、事务

## 1.约束

### 1.约束的概述

![image-20220717213627647](typora图片/image-20220717213627647.png)![image-20220717213723599](typora图片/image-20220717213723599.png)

![image-20220717213659237](typora图片/image-20220717213659237.png)

### 2.外键

**具有外键的表被称为子表，外键所关联的被称为父表**

![image-20220717213818519](typora图片/image-20220717213818519.png)

![image-20220717213913882](typora图片/image-20220717213913882.png)

#### 1.删除外键

![image-20220717213931264](typora图片/image-20220717213931264.png)

#### 2.删除/更新行为

![image-20220717214003830](typora图片/image-20220717214003830.png)

![image-20220717214032665](typora图片/image-20220717214032665.png)

![image-20220717214042610](typora图片/image-20220717214042610.png)



## 2.多表查询

### 1.多表关系

![image-20220717214647720](typora图片/image-20220717214647720.png)

![image-20220717214705456](typora图片/image-20220717214705456.png)

![image-20220717214724342](typora图片/image-20220717214724342.png)

### 2.多表查询概述

![image-20220717214840268](typora图片/image-20220717214840268.png)

![image-20220717214853418](typora图片/image-20220717214853418.png)

### 3.连接查询

#### 1.内连接

![image-20220717215004255](typora图片/image-20220717215004255.png)

![image-20220717215019685](typora图片/image-20220717215019685.png)

#### 2.外连接

![image-20220717215051236](typora图片/image-20220717215051236.png)

![image-20220717215102109](typora图片/image-20220717215102109.png)

#### 3.自连接

![image-20220717215224658](typora图片/image-20220717215224658.png)

![image-20220717215239017](typora图片/image-20220717215239017.png)

#### 4.联合查询

![image-20220717215313696](typora图片/image-20220717215313696.png)

### 4.子查询

![image-20220717215402636](typora图片/image-20220717215402636.png)

![image-20220717215433355](typora图片/image-20220717215433355.png)

#### 1.列子查询

![image-20220717215615448](typora图片/image-20220717215615448.png)

![image-20220717215628702](typora图片/image-20220717215628702.png)

#### 2.行子查询

![image-20220717215653271](typora图片/image-20220717215653271.png)

![image-20220717215704969](C:\Users\杨润\AppData\Roaming\Typora\typora-user-images\image-20220717215704969.png)

#### 3.表子查询

![image-20220717215731106](typora图片/image-20220717215731106.png)

![image-20220717215743002](typora图片/image-20220717215743002.png)

![image-20220717215800340](typora图片/image-20220717215800340.png)

## 3.事务

### 1.事务简介

![image-20220717215901715](typora图片/image-20220717215901715.png)

### 2.事务操作

![image-20220717215937321](typora图片/image-20220717215937321.png)

![image-20220717215957369](typora图片/image-20220717215957369.png)

![image-20220717220021323](typora图片/image-20220717220021323.png)

### 3.事务的四大特性

![image-20220717220110112](typora图片/image-20220717220110112.png)

![image-20220717220121819](typora图片/image-20220717220121819.png)

![image-20220717220133077](typora图片/image-20220717220133077.png)

![image-20220717220146300](typora图片/image-20220717220146300.png)



# 管理用户和权限控制

## 1.管理用户

![image-20220717220425318](typora图片/image-20220717220425318.png)

![image-20220717220439722](typora图片/image-20220717220439722.png)

![image-20220717220450195](typora图片/image-20220717220450195.png)

## 2.权限控制

![image-20220717220519338](typora图片/image-20220717220519338.png)

![image-20220717220551469](typora图片/image-20220717220551469.png)

![image-20220717220604028](typora图片/image-20220717220604028.png)

# 函数

## 1.字符串函数

![image-20220717220724342](typora图片/image-20220717220724342.png)

![image-20220717220737621](typora图片/image-20220717220737621.png)

## 2.数值函数

![image-20220717220759001](typora图片/image-20220717220759001.png)

![image-20220717220829387](typora图片/image-20220717220829387.png)

## 3.日期函数

![image-20220717220857155](typora图片/image-20220717220857155.png)

![image-20220717220909361](typora图片/image-20220717220909361.png)

![image-20220717220922237](typora图片/image-20220717220922237.png)

![image-20220717220940477](typora图片/image-20220717220940477.png)

![image-20220717221003704](typora图片/image-20220717221003704.png)

## 4.流程函数

![image-20220717221028229](typora图片/image-20220717221028229.png)

![image-20220717221040634](typora图片/image-20220717221040634.png)

![image-20220717221051829](typora图片/image-20220717221051829.png)

![image-20220717221104639](typora图片/image-20220717221104639.png)

![image-20220717221118172](typora图片/image-20220717221118172.png)

# 视图

![image-20220717221233976](typora图片/image-20220717221233976.png)

![image-20220717221249927](typora图片/image-20220717221249927.png)

**查看视图的数据和查询表的数据的语法是一样的，也可以使用where等。**

![image-20220717221420528](typora图片/image-20220717221420528.png)

![image-20220717221434799](typora图片/image-20220717221434799.png)

![image-20220717221451755](typora图片/image-20220717221451755.png)

![image-20220717221503840](typora图片/image-20220717221503840.png)

![image-20220717221522776](typora图片/image-20220717221522776.png)

![image-20220717221535780](typora图片/image-20220717221535780.png)





# 存储过程

## 1.存储过程介绍

![image-20220717221603981](typora图片/image-20220717221603981.png)

![image-20220717221615022](typora图片/image-20220717221615022.png)

## 2.基本语法

![image-20220717221652728](typora图片/image-20220717221652728.png)

![image-20220717221705758](typora图片/image-20220717221705758.png)

![image-20220717221718838](typora图片/image-20220717221718838.png)

![image-20220717221730504](typora图片/image-20220717221730504.png)

![image-20220717221745852](typora图片/image-20220717221745852.png)

![image-20220717221757701](typora图片/image-20220717221757701.png)

![image-20220717221815501](typora图片/image-20220717221815501.png)

![image-20220717221825609](typora图片/image-20220717221825609.png)

![image-20220717221838337](typora图片/image-20220717221838337.png)

## 3.存储语法

### 1.if





![image-20220717221851759](typora图片/image-20220717221851759.png)

![image-20220717221904876](typora图片/image-20220717221904876.png)

![image-20220717221914956](typora图片/image-20220717221914956.png)

![image-20220717222123487](typora图片/image-20220717222123487.png)

![image-20220717222141416](typora图片/image-20220717222141416.png)

![image-20220717222152331](typora图片/image-20220717222152331.png)

![image-20220717222213125](typora图片/image-20220717222213125.png)

### 2.case

![image-20220717222237003](typora图片/image-20220717222237003.png)

![image-20220717222249187](typora图片/image-20220717222249187.png)

![image-20220717222300437](typora图片/image-20220717222300437.png)

### 3.while

![image-20220717222320857](typora图片/image-20220717222320857.png)

![image-20220717222338489](typora图片/image-20220717222338489.png)

### 4.repeat和Loop

![image-20220717222425737](typora图片/image-20220717222425737.png)

**repeat:相当于c中的do while循环**

**until：条件是退出的条件和我们平时所学的条件刚好相反**

![image-20220717222457864](typora图片/image-20220717222457864.png)

![image-20220717222508602](typora图片/image-20220717222508602.png)

![image-20220717222519726](typora图片/image-20220717222519726.png)

## 4.游标

![image-20220717222620162](typora图片/image-20220717222620162.png)

![image-20220717222641169](typora图片/image-20220717222641169.png)

![image-20220717222656027](typora图片/image-20220717222656027.png)

![image-20220717222707862](typora图片/image-20220717222707862.png)

![image-20220717222722674](typora图片/image-20220717222722674.png)







## 5.触发器

![image-20220717222743051](typora图片/image-20220717222743051.png)

![image-20220717222753209](typora图片/image-20220717222753209.png)

![image-20220717222806904](typora图片/image-20220717222806904.png)

![image-20220717222818372](typora图片/image-20220717222818372.png)

![image-20220717222828402](typora图片/image-20220717222828402.png)

![image-20220717222837799](typora图片/image-20220717222837799.png)

## 5.总结

![image-20220717222902312](typora图片/image-20220717222902312.png)



# 存储引擎

## 1. 存储引擎简介

![image-20220717223041512](typora图片/image-20220717223041512.png)

![image-20220717223051219](typora图片/image-20220717223051219.png)

## 2.存储引擎创建

![image-20220717223103680](typora图片/image-20220717223103680.png)

![image-20220717223115477](typora图片/image-20220717223115477.png)

## 3.存储引擎特点



![image-20220717223146220](typora图片/image-20220717223146220.png)

![image-20220717223216141](typora图片/image-20220717223216141.png)

![image-20220717223227614](typora图片/image-20220717223227614.png)

![image-20220717223240928](typora图片/image-20220717223240928.png)

![image-20220717223250618](typora图片/image-20220717223250618.png)

![image-20220717223304095](typora图片/image-20220717223304095.png)

![image-20220717223330624](typora图片/image-20220717223330624.png)

# 索引

## 1. 索引概述

![image-20220717223420490](typora图片/image-20220717223420490.png)

![image-20220717223431468](typora图片/image-20220717223431468.png)

![image-20220717223441917](typora图片/image-20220717223441917.png)

## 2.索引结构

![image-20220717223503815](typora图片/image-20220717223503815.png)

![image-20220717223513713](typora图片/image-20220717223513713.png)

![image-20220717223522303](typora图片/image-20220717223522303.png)

![image-20220717223532245](typora图片/image-20220717223532245.png)

![image-20220717223543508](typora图片/image-20220717223543508.png)

![image-20220717223553548](typora图片/image-20220717223553548.png)

![image-20220717223605709](typora图片/image-20220717223605709.png)

![image-20220717223615729](typora图片/image-20220717223615729.png)

![image-20220717223625166](typora图片/image-20220717223625166.png)

![image-20220717223634979](typora图片/image-20220717223634979.png)

## 3.索引分类

![image-20220717223657985](typora图片/image-20220717223657985.png)

![image-20220717223706359](typora图片/image-20220717223706359.png)

![image-20220717223714556](typora图片/image-20220717223714556.png)

![image-20220717223748109](typora图片/image-20220717223748109.png)

![image-20220717223800182](typora图片/image-20220717223800182.png)

![image-20220717223811457](typora图片/image-20220717223811457.png)

## 4.索引语法

![image-20220717223833608](typora图片/image-20220717223833608.png)

![image-20220717223903798](typora图片/image-20220717223903798.png)

## 5.SQL性能分析

![image-20220717223935629](typora图片/image-20220717223935629.png)

![image-20220717223944213](typora图片/image-20220717223944213.png)

![image-20220717223955769](typora图片/image-20220717223955769.png)

![image-20220717224004651](typora图片/image-20220717224004651.png)

![image-20220717224012950](typora图片/image-20220717224012950.png)

![image-20220717224020961](typora图片/image-20220717224020961.png)

![image-20220717224031094](typora图片/image-20220717224031094.png)

![image-20220717224044042](typora图片/image-20220717224044042.png)

![image-20220717224052986](typora图片/image-20220717224052986.png)

## 6。索引使用

![image-20220717224116622](typora图片/image-20220717224116622.png)

![image-20220717224126295](typora图片/image-20220717224126295.png)

![image-20220717224135796](typora图片/image-20220717224135796.png)

**避免索引失效：尽量使用>=或者<=;**